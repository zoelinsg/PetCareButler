{% extends "base.html" %}

{% block title %}記錄 #{{ record.id }}{% endblock %}

{% block content %}
<div class="row">
  <div class="col-12">
    <div class="d-flex justify-content-between align-items-end mb-3">
      <div>
        <h1 class="h4 fw-semibold mb-1">記錄詳情</h1>
      </div>
      <div class="d-flex gap-2">
        <a class="btn btn-outline-primary btn-sm" href="{% url 'care_record_update' record.pk %}">編輯</a>
        <a class="btn btn-outline-danger btn-sm" href="{% url 'care_record_delete' record.pk %}">刪除</a>
        <a class="btn btn-outline-secondary btn-sm" href="{% url 'care_record_list' %}">回列表</a>
      </div>
    </div>

    <div class="card shadow-sm border-0 mb-3">
      <div class="card-body d-flex flex-column flex-md-row justify-content-between gap-3">
        <div>
          <div class="text-muted small mb-1">寵物</div>
          <div class="fw-semibold">{{ record.pet.name }}</div>
        </div>

        <div>
          <div class="text-muted small mb-1">記錄日期</div>
          <div class="fw-semibold">
            {% if record.recorded_at %}{{ record.recorded_at|date:"Y/m/d" }}{% else %}—{% endif %}
          </div>
        </div>
    </div>

    <div class="card shadow-sm border-0">
      <div class="card-body">
        <div class="row g-3 small">
          <div class="col-12 col-md-6">
            <div class="text-muted">體重 (kg)</div>
            <div class="fw-semibold">{% if record.weight_kg %}{{ record.weight_kg }}{% else %}—{% endif %}</div>
          </div>

          <div class="col-12 col-md-6">
            <div class="text-muted">飲水量 (ml)</div>
            <div class="fw-semibold">{% if record.water_ml %}{{ record.water_ml }}{% else %}—{% endif %}</div>
          </div>

          <div class="col-12 col-md-6">
            <div class="text-muted">飯量 (g)</div>
            <div class="fw-semibold">{% if record.food_g %}{{ record.food_g }}{% else %}—{% endif %}</div>
          </div>

          <div class="col-12 col-md-6">
            <div class="text-muted">運動 (min)</div>
            <div class="fw-semibold">{% if record.exercise_min %}{{ record.exercise_min }}{% else %}—{% endif %}</div>
          </div>

          <div class="col-12 col-md-6">
            <div class="text-muted">上廁所次數</div>
            <div class="fw-semibold">{% if record.poop_and_pee_count is not None %}{{ record.poop_and_pee_count }}{% else %}—{% endif %}</div>
          </div>

          <div class="col-12 col-md-6">
            <div class="text-muted">排便狀況</div>
            <div class="fw-semibold">{% if record.poop_status %}{{ record.get_poop_status_display }}{% else %}—{% endif %}</div>
          </div>

          <div class="col-12">
            <div class="text-muted">心情</div>
            <div class="fw-semibold">{% if record.mood %}{{ record.get_mood_display }}{% else %}—{% endif %}</div>
          </div>

          <div class="col-12">
            <div class="text-muted">營養品</div>
            <div class="fw-semibold">{% if record.supplements %}{{ record.supplements }}{% else %}—{% endif %}</div>
          </div>

          <div class="col-12">
            <div class="text-muted">用藥</div>
            <div class="fw-semibold">{% if record.medications %}{{ record.medications }}{% else %}—{% endif %}</div>
          </div>

          <div class="col-12">
            <div class="text-muted">備註</div>
            <div class="fw-semibold">{% if record.note %}{{ record.note|linebreaksbr }}{% else %}—{% endif %}</div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}
